var documenterSearchIndex = {"docs":
[{"location":"#TestPicker","page":"Home","title":"TestPicker","text":"Documentation for TestPicker.\n\n","category":"section"},{"location":"#TestPicker.INTERFACES","page":"Home","title":"TestPicker.INTERFACES","text":"INTERFACES\n\nGlobal collection of test block interfaces used by TestPicker.\n\nContains all registered TestBlockInterface implementations that TestPicker uses to recognize and parse different types of test blocks. By default includes StdTestset for standard @testset blocks.\n\n\n\n\n\n","category":"constant"},{"location":"#TestPicker.LATEST_EVAL","page":"Home","title":"TestPicker.LATEST_EVAL","text":"LATEST_EVAL\n\nGlobal reference to the most recently executed test evaluations.\n\nStores a vector of EvalTest objects representing the last set of tests that were executed. This allows for re-running the same tests without going through the selection interface again.\n\n\n\n\n\n","category":"constant"},{"location":"#TestPicker.TESTENV_CACHE","page":"Home","title":"TestPicker.TESTENV_CACHE","text":"TESTENV_CACHE\n\nCache for TestEnv temporary environments to avoid triggering recompilation on every test run.\n\nThis constant stores a mapping from PackageSpec objects to their corresponding temporary test environment paths. Reusing these environments improves performance by avoiding the overhead of recreating test environments.\n\n\n\n\n\n","category":"constant"},{"location":"#TestPicker.TESTMODE_TRIGGER","page":"Home","title":"TestPicker.TESTMODE_TRIGGER","text":"Trigger key to get into test mode.\n\n\n\n\n\n","category":"constant"},{"location":"#TestPicker.EmptyFile","page":"Home","title":"TestPicker.EmptyFile","text":"File to evaluate was empty.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.EvalResult","page":"Home","title":"TestPicker.EvalResult","text":"EvalResult{T}\n\nResult from evaluating a given EvalTest.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.EvalTest","page":"Home","title":"TestPicker.EvalTest","text":"EvalTest\n\nContainer for executable test code and its associated metadata.\n\nCombines a Julia expression representing test code with metadata about its source and context. Used throughout TestPicker for tracking and executing tests.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.MissingFileException","page":"Home","title":"TestPicker.MissingFileException","text":"Provided file could not be found.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.QueryType","page":"Home","title":"TestPicker.QueryType","text":"QueryType\n\nEnumeration of different types of test queries supported by the test REPL mode.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.StdTestset","page":"Home","title":"TestPicker.StdTestset","text":"StdTestset <: TestBlockInterface\n\nStandard implementation of TestBlockInterface for @testset blocks from Julia's Test.jl standard library.\n\nThis is the built-in interface for recognizing and processing standard Julia test sets. It handles @testset blocks commonly used in Julia testing and provides the necessary preamble to load the Test.jl package.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.SyntaxBlock","page":"Home","title":"TestPicker.SyntaxBlock","text":"SyntaxBlock\n\nA container for a test block and its associated preamble statements.\n\nContains all the necessary components to execute a test block, including any setup code that needs to run beforehand. Can be easily converted into an evaluatable expression.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.TestBlockInfo","page":"Home","title":"TestPicker.TestBlockInfo","text":"TestBlockInfo\n\nMetadata container for a test block, including its location and identification information.\n\nStores essential information about a test block's location within a file and provides a label for identification and display purposes.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.TestBlockInterface","page":"Home","title":"TestPicker.TestBlockInterface","text":"TestBlockInterface\n\nAbstract interface for defining and recognizing different types of test blocks in Julia code.\n\nThe TestBlockInterface allows you to define different types of test blocks that you would like TestPicker to find and evaluate. The interface is relatively simple and flexible.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.TestInfo","page":"Home","title":"TestPicker.TestInfo","text":"TestInfo\n\nContainer for test execution metadata and location information.\n\nStores essential information about a test's source location and context, used for tracking test execution and displaying results.\n\n\n\n\n\n","category":"type"},{"location":"#TestPicker.TestModeCompletionProvider","page":"Home","title":"TestPicker.TestModeCompletionProvider","text":"TestModeCompletionProvider\n\nCompletion provider for test mode that suggests test file names.\n\n\n\n\n\n","category":"type"},{"location":"#REPL.LineEdit.complete_line-Tuple{TestPicker.TestModeCompletionProvider, REPL.LineEdit.PromptState}","page":"Home","title":"REPL.LineEdit.complete_line","text":"complete_line(::TestModeCompletionProvider, s::LineEdit.PromptState)\n\nProvide completions based on available test file names (without paths).\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.add_interface!-Tuple{TestBlockInterface}","page":"Home","title":"TestPicker.add_interface!","text":"add_interface!(interface::TestBlockInterface) -> Vector{TestBlockInterface}\n\nRegister a new test block interface with TestPicker.\n\nAdds the provided interface to the global INTERFACES collection, enabling TestPicker to recognize and process the corresponding test block types. Duplicates are automatically removed to prevent redundant processing.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.blocklabel-Union{Tuple{T}, Tuple{T, JuliaSyntax.SyntaxNode}} where T<:TestBlockInterface","page":"Home","title":"TestPicker.blocklabel","text":"blocklabel(interface::T, node::SyntaxNode)::String where {T<:TestBlockInterface}\n\nGenerate a descriptive label for a test block to be used in filtering and display.\n\nThis is a required method that must be implemented by all concrete subtypes of TestBlockInterface. It should produce a (preferably) unique label that helps users identify and select specific test blocks.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.build_info_to_syntax-Tuple{Vector{<:TestBlockInterface}, AbstractString, AbstractVector{<:AbstractString}}","page":"Home","title":"TestPicker.build_info_to_syntax","text":"build_info_to_syntax(interfaces, root, matched_files) -> (Dict{TestBlockInfo,SyntaxBlock}, Dict{String,TestBlockInfo})\n\nParse matched files and build mapping structures for test block selection and display.\n\nExtracts all test blocks from the provided files and creates two mappings:\n\nFrom test block metadata to syntax information\nFrom human-readable display strings (for fzf) to test block metadata\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.clean_results_file-Tuple{Pkg.Types.PackageSpec}","page":"Home","title":"TestPicker.clean_results_file","text":"This empty the file before appending new results.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.clean_source-Tuple{LineNumberNode}","page":"Home","title":"TestPicker.clean_source","text":"Obtain the source from the LineNumberNode.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.clear_testenv_cache-Tuple{}","page":"Home","title":"TestPicker.clear_testenv_cache","text":"clear_testenv_cache()\n\nClear the TestEnv cache to force recreation of test environments on next use.\n\nEmpties the TESTENV_CACHE dictionary, which will cause subsequent test evaluations to create fresh test environments. This can be useful when test dependencies have changed or when troubleshooting environment-related issues.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.create_repl_test_mode-Tuple{REPL.AbstractREPL, REPL.LineEdit.Prompt}","page":"Home","title":"TestPicker.create_repl_test_mode","text":"create_repl_test_mode(repl::AbstractREPL, main::LineEdit.Prompt) -> LineEdit.Prompt\n\nCreate a new REPL mode specifically for test operations.\n\nConstructs a custom REPL prompt mode that handles test-specific commands and provides an isolated interface for TestPicker operations. The mode includes proper history support, key bindings, and command processing.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.current_pkg-Tuple{}","page":"Home","title":"TestPicker.current_pkg","text":"current_pkg() -> PackageSpec\n\nGet the current package specification from the active Pkg environment.\n\nThis is a more flexible version of current_pkg_name from TestEnv that returns the full PackageSpec object rather than just the package name. This provides access to additional package metadata needed by TestPicker.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.eval_in_module-Tuple{TestPicker.EvalTest, Pkg.Types.PackageSpec}","page":"Home","title":"TestPicker.eval_in_module","text":"eval_in_module(eval_test::EvalTest, pkg::PackageSpec) -> Nothing\n\nExecute a test block in an isolated module with the appropriate test environment activated.\n\nThis function provides the core test execution functionality for TestPicker. It creates a temporary module, activates the package's test environment, and evaluates the test code in isolation to prevent interference between different test runs.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.expr_transform-Tuple{TestBlockInterface, Expr}","page":"Home","title":"TestPicker.expr_transform","text":"expr_transform(interface::TestBlockInterface, ex::Expr)::Expr\n\nTransform a test block expression before evaluation.\n\nThis optional method allows test block interfaces to modify the test block expression before it is executed. This can be useful for adding wrapper code, modifying test behavior, or adapting different test formats.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.fzf_testblock-Tuple{Vector{<:TestBlockInterface}, AbstractString, AbstractString}","page":"Home","title":"TestPicker.fzf_testblock","text":"fzf_testblock(interfaces, fuzzy_file, fuzzy_testset; interactive::Bool=true) -> Nothing\n\nTest block selection and execution workflow using fzf.\n\nProvides a two-stage fuzzy finding process:\n\nFilter test files based on fuzzy_file query\nSelect specific test blocks from filtered files based on fuzzy_testset query\n\nIf interactive=true (default), uses fzf's interactive mode for selecting test blocks. If interactive=false, uses fzf's filter mode to non-interactively select and run all matching test blocks.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.fzf_testblock_from_files-Tuple{Vector{<:TestBlockInterface}, AbstractVector{<:AbstractString}, AbstractString, Pkg.Types.PackageSpec, AbstractString}","page":"Home","title":"TestPicker.fzf_testblock_from_files","text":"fzf_testblock_from_files(interfaces, matched_files, fuzzy_testset, pkg, root; interactive::Bool=true) -> Nothing\n\nTest block selection and execution from a list of matched files.\n\nIf interactive=true (default), presents an fzf interface to select specific test blocks from those files based on fuzzy_testset query.\n\nIf interactive=false, uses fzf's filter mode to non-interactively select and run all matching test blocks.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.fzf_testfile-Tuple{AbstractString}","page":"Home","title":"TestPicker.fzf_testfile","text":"fzf_testfile(query::AbstractString; interactive::Bool=true) -> Nothing\n\nTest file selection and execution workflow.\n\nIf interactive=true (default), uses fzf to interactively select test files based on the query, then runs all selected files in the test environment. If ctrl-b is pressed during file selection, switches to testblock selection mode instead.\n\nIf interactive=false, uses fzf's filter mode to non-interactively select and run all matching test files based on the query.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.get_matching_files-Tuple{AbstractString, AbstractVector{<:AbstractString}}","page":"Home","title":"TestPicker.get_matching_files","text":"get_matching_files(file_query::AbstractString, testfiles::AbstractVector{<:AbstractString}) -> Vector{String}\n\nFilter test files using fzf's non-interactive filtering based on the given query.\n\nUses fzf --filter to perform fuzzy matching on the provided list of test files, returning only those that match the query pattern.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.get_preview_dimension","page":"Home","title":"TestPicker.get_preview_dimension","text":"Utility function to adapt the size of the text width and line position.\n\n\n\n\n\n","category":"function"},{"location":"#TestPicker.get_testblocks-Tuple{Vector{<:TestBlockInterface}, AbstractString}","page":"Home","title":"TestPicker.get_testblocks","text":"get_testblocks(interfaces::Vector{<:TestBlockInterface}, file::AbstractString) -> Vector{SyntaxBlock}\n\nParse a Julia file and extract all test blocks with their associated preamble statements.\n\nFor each test block found (including nested ones), collects all preceding preamble statements that should be executed before the test block. Uses the provided interfaces to determine what constitutes a test block.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.get_testfiles","page":"Home","title":"TestPicker.get_testfiles","text":"get_testfiles(pkg::PackageSpec=current_pkg()) -> (String, Vector{String})\n\nDiscover and return all Julia test files for a package.\n\nRecursively searches the package's test directory to find all .jl files, returning both the test directory path and the collection of relative file paths.\n\n\n\n\n\n","category":"function"},{"location":"#TestPicker.identify_query-Tuple{AbstractString}","page":"Home","title":"TestPicker.identify_query","text":"identify_query(input::AbstractString) -> (QueryType, Tuple)\n\nParse user input in test mode and identify the type of operation requested.\n\nAnalyzes the input string to determine what kind of test operation the user wants to perform and extracts the relevant parameters for that operation.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.init_test_repl_mode-Tuple{REPL.AbstractREPL}","page":"Home","title":"TestPicker.init_test_repl_mode","text":"init_test_repl_mode(repl::AbstractREPL) -> Nothing\n\nInitialize and add test mode to the REPL interface.\n\nSets up a custom REPL mode for TestPicker that can be accessed by typing '!' at the beginning of a line. The test mode provides specialized commands for running and inspecting tests interactively.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.ispreamble-Tuple{JuliaSyntax.SyntaxNode}","page":"Home","title":"TestPicker.ispreamble","text":"ispreamble(node::SyntaxNode) -> Bool\n\nCheck if a statement qualifies as a preamble that should be executed before test blocks.\n\nA preamble statement is any statement that sets up the testing environment, such as:\n\nFunction calls (:call)\nImport/using statements (:using, :import)\nVariable assignments (:=)\nMacro calls (:macrocall)\nFunction definitions (:function)\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.istestblock-Union{Tuple{T}, Tuple{T, JuliaSyntax.SyntaxNode}} where T<:TestBlockInterface","page":"Home","title":"TestPicker.istestblock","text":"istestblock(interface::T, node::SyntaxNode)::Bool where {T<:TestBlockInterface}\n\nDetermine whether a syntax node represents a test block according to the given interface.\n\nThis is a required method that must be implemented by all concrete subtypes of TestBlockInterface. It examines a syntax node and decides whether it represents a test block that should be recognized by TestPicker.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.pick_testblock-Tuple{Dict{String, TestPicker.TestBlockInfo}, AbstractString, AbstractString}","page":"Home","title":"TestPicker.pick_testblock","text":"pick_testblock(tabled_keys, testset_query, root; interactive::Bool=true) -> Vector{String}\n\nSelect test blocks to execute based on a fuzzy search query.\n\nIf interactive=true (default), launches fzf with a preview window (using bat) that allows users to select one or more test blocks from the filtered list. The preview shows the actual test code with syntax highlighting.\n\nIf interactive=false, uses fzf's filter mode to non-interactively return all matching test blocks.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.preamble-Tuple{TestBlockInterface}","page":"Home","title":"TestPicker.preamble","text":"preamble(interface::TestBlockInterface)::Union{Nothing, Expr}\n\nReturn additional preamble code specific to the test block interface.\n\nThis optional method allows test block interfaces to specify setup code that should be executed before any test blocks of this type. Common uses include importing required packages or setting up test environment variables.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.prepend_ex-Tuple{Any, Expr}","page":"Home","title":"TestPicker.prepend_ex","text":"prepend_ex(ex, new_line::Expr) -> Expr\n\nPrepend a new expression to an existing expression, handling block structure appropriately.\n\nIf the target expression is already a block, the new expression is prepended to the beginning of the block. Otherwise, a new block is created containing both expressions.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.prepend_preamble_statements-Tuple{TestBlockInterface, Vector{Expr}}","page":"Home","title":"TestPicker.prepend_preamble_statements","text":"prepend_preamble_statements(interface::TestBlockInterface, preambles::Vector{Expr}) -> Vector{Expr}\n\nCombine interface-specific preamble with existing preamble statements.\n\nTakes the preamble from the interface (if any) and prepends it to the existing collection of preamble statements, ensuring interface requirements are satisfied before test execution.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.preview_content-Tuple{Test.Error}","page":"Home","title":"TestPicker.preview_content","text":"We connect the error with the backtrace to be previewed.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.print_test_docs-Tuple{}","page":"Home","title":"TestPicker.print_test_docs","text":"print_test_docs() -> Nothing\n\nPrint a summary of available features and commands in test mode.\n\nDisplays a help message showing all the different ways to interact with TestPicker's test REPL mode.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.remove_ansi-Tuple{AbstractString}","page":"Home","title":"TestPicker.remove_ansi","text":"File names come with ansi characters and break stuff...\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.replace_interface!-Tuple{TestBlockInterface}","page":"Home","title":"TestPicker.replace_interface!","text":"replace_interface!(interface::TestBlockInterface) -> Vector{TestBlockInterface}\n\nSimilar to add_interface! but empty the interface first before adding the new one so that it becomes the unique interface.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.run_testfile-Tuple{AbstractString, Pkg.Types.PackageSpec}","page":"Home","title":"TestPicker.run_testfile","text":"run_testfile(file::AbstractString, pkg::PackageSpec) -> Any\n\nExecute a single test file in an isolated testset within the package test environment.\n\nWraps the test file in a testset named after the package and file, handles test failures gracefully, and updates the global test state for later inspection.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.run_testfiles-Tuple{AbstractVector{<:AbstractString}, Pkg.Types.PackageSpec}","page":"Home","title":"TestPicker.run_testfiles","text":"run_testfiles(files::AbstractVector{<:AbstractString}, pkg::PackageSpec) -> Nothing\n\nExecute a collection of test files in the package test environment.\n\nRuns each provided test file in sequence, handling errors gracefully and updating the test evaluation state. Each file is wrapped in a testset and executed in isolation.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.save_test_results-Tuple{Test.TestSetException, TestPicker.TestInfo, Pkg.Types.PackageSpec}","page":"Home","title":"TestPicker.save_test_results","text":"save_test_results(testset::Test.TestSetException, testinfo::TestInfo, pkg::PackageSpec) -> Nothing\n\nSave test failures and errors from a test set to the package's results file.\n\nProcesses a test set exception containing failed and errored tests, formats them for display in the results viewer, and appends them to the package's results file. Each test result includes the test description, source location, detailed error information, and context.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.select_testfiles","page":"Home","title":"TestPicker.select_testfiles","text":"select_testfiles(query::AbstractString, pkg::PackageSpec=current_pkg(); interactive::Bool=true) -> (Symbol, String, Vector{String})\n\nSelect test files using fzf based on a fuzzy search query.\n\nIf interactive=true (default), presents an fzf interface showing all test files for the package, with syntax-highlighted preview using bat. Users can select multiple files and the query pre-filters the results.\n\nIf interactive=false, uses fzf's filter mode to non-interactively return all matching files.\n\nReturns a tuple of (mode, root, files) where:\n\nmode is either :file or :testblock depending on whether the user pressed Enter or Ctrl+B (interactive mode only, always :file in non-interactive mode)\nroot is the test directory path\nfiles are relative paths (not joined with root yet)\n\n\n\n\n\n","category":"function"},{"location":"#TestPicker.separator-Tuple{}","page":"Home","title":"TestPicker.separator","text":"Separator used by fzf to distinguish the different data components.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.test_mode_do_cmd-Tuple{REPL.AbstractREPL, String}","page":"Home","title":"TestPicker.test_mode_do_cmd","text":"test_mode_do_cmd(repl::AbstractREPL, input::String) -> Nothing\n\nExecute test commands received in the test REPL mode.\n\nProcesses user input from the test mode, identifies the requested operation, and dispatches to the appropriate test execution or inspection function.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.testblock_list-Tuple{Vector{<:AbstractString}, Dict{TestPicker.TestBlockInfo, TestPicker.SyntaxBlock}, Dict{String, TestPicker.TestBlockInfo}, Pkg.Types.PackageSpec}","page":"Home","title":"TestPicker.testblock_list","text":"testblock_list(choices, info_to_syntax, display_to_info, pkg) -> Vector{EvalTest}\n\nConvert user-selected test block choices into executable test objects.\n\nTakes the selected display strings from fzf and converts them into EvalTest objects that can be evaluated. Each test is wrapped in a try-catch block to handle test failures gracefully and save results.\n\n\n\n\n\n","category":"method"},{"location":"#TestPicker.visualize_test_results","page":"Home","title":"TestPicker.visualize_test_results","text":"visualize_test_results(repl::AbstractREPL=Base.active_repl, pkg::PackageSpec=current_pkg()) -> Nothing\n\nInteractive visualization of test failures and errors using fzf interface.\n\nCreates a loop-based interface for browsing test failures and errors from the most recent test execution. Provides syntax-highlighted previews of stack traces and allows editing of test files directly from the interface.\n\n\n\n\n\n","category":"function"}]
}
